
(function(a){jQuery.fn.goodyear=function(b){var d=function(f,e){setTimeout(function(){if(a(f).length>1){a(f).each(function(){if(a(this).is("input")){c(this,e)}})}else{if(a(f).is("input")){c(f,e)}}},1)};var c=function(h,p){var e=a(h);var f=0;if(typeof(activated_goodyears_list)!="undefined"){a.each(activated_goodyears_list,function(q,r){if(r.element==e){f=q}})}if(f){}else{var p=a.extend({format:"YYYY-MM-DD",visible_format:"D MMMM YYYY г.",minutes_step:5},p);var l={single_date_item_width:25,single_date_item_height:21,year_block_height:269,year_selection_top:119,year_selection_border_top:1,single_year_item_height:32,month_block_height:240,month_slider_height:43,month_slider_top_manual_correction:1,single_month_item_height:20,date_block_height:267,date_block_month_block_padding_top:5,date_block_month_block_padding_bottom:5,date_block_label_height:21,date_block_label_border_bottom:1,range_from_text_block_to_picker:3,picker_open:null};var m={container:function(){return"        			<div class='goodyear-container'>        			<div class='goodyear-icon'></div>        			<div class='goodyear-picker"+(p.hour_picker?" goodyear-add-hour-picker":"")+(p.minute_picker?" goodyear-add-minute-picker":"")+"'>        				<div class='goodyear-date-picker'>        					<div class='goodyear-slider'>        						"+m.days()+"        					</div>        				</div>        				<div class='goodyear-month-picker'>        					<div class='goodyear-months'>        						"+m.months()+"        					</div>        					<div class='goodyear-slider'>        						<div class='goodyear-months'>        							"+m.months()+"        						</div>        					</div>        				</div>        				<div class='goodyear-date-picker-label'>        					<div class='goodyear-date-picker-label-background'></div>        					<span class='goodyear-monday'>"+j.days_of_week[0]+"</span>        					<span class='goodyear-tuesday'>"+j.days_of_week[1]+"</span>        					<span class='goodyear-wednesday'>"+j.days_of_week[2]+"</span>        					<span class='goodyear-thursday'>"+j.days_of_week[3]+"</span>        					<span class='goodyear-friday'>"+j.days_of_week[4]+"</span>        					<span class='goodyear-saturday'>"+j.days_of_week[5]+"</span>        					<span class='goodyear-sunday'>"+j.days_of_week[6]+"</span>        				</div>        				<div class='goodyear-year-picker'>        					<div class='goodyear-years'>        						<div class='goodyear-years-floating-block'>        							"+m.years()+"        						</div>        					</div>        					<div class='goodyear-current-year-selection'>        						<div class='goodyear-years-floating-block'>        							"+m.years()+"        						</div>        					</div>        				</div>                        "+(p.hour_picker?"                        <div class='goodyear-hour-picker'>        					<div class='goodyear-hours'>        						<div class='goodyear-hours-floating-block'>        							"+m.hours()+"        						</div>        					</div>        					<div class='goodyear-current-hour-selection'>        						<div class='goodyear-hours-floating-block'>        							"+m.hours()+"        						</div>        					</div>        				</div>                                                <div class='goodyear-minute-picker'>                            "+(p.minute_picker?"        					<div class='goodyear-minutes'>        						<div class='goodyear-minutes-floating-block'>        							"+m.minutes()+"        						</div>        					</div>                            ":"")+"        					<div class='goodyear-current-minute-selection'>        						<div class='goodyear-minutes-floating-block'>        							"+(p.minute_picker?m.minutes():"<div class='goodyear-minute'><span>00</span></div>")+"        						</div>        					</div>        				</div>                        <div class='goodyear-time-divider'>                        :                        </div>                        ":"")+"        			</div>        			</div>"},hours:function(){var q="";for(i=0;i<24;i++){q+="<div class='goodyear-hour'><span>"+(i<10?"0":"")+i+"</span></div>"}return q},minutes:function(){var q="";for(i=0;i<60;i=i+p.minutes_step){q+="<div class='goodyear-minute'><span>"+(i<10?"0":"")+i+"</span></div>"}return q},years:function(q,s){var r="";for(i=p.min_year;i<=p.max_year;i++){r+="<div class='goodyear-year"+(o.today.format("YYYY")==i?" today":"")+"'><span>"+i+(o.today.format("YYYY")==i?" &bull;":"")+"</span></div>"}return r},months:function(){var q="";for(month_num=0;month_num<12;month_num++){q+="<div class='goodyear-month goodyear-"+j.months_en[month_num]+(o.today.format("M")==(month_num+1)?" today":"")+"'>"+j.months_ru_short[month_num]+(o.today.format("M")==(month_num+1)?"<span class='bull'> &bull;</span>":"")+"</div>"}return q},days:function(){var z="";for(month_num=0;month_num<12;month_num++){var x=moment(o.selected_date.format("YYYY")+"-"+(month_num+1)+"-01","YYYY-M-DD");var t=x.format("e");var w=x.add("months",1).subtract("days",1).format("D");var s=(t>2?9:2)-t;var A=(9-s)*l.single_date_item_width;var y=(4-s)*l.single_date_item_width;var r=(2-s)*l.single_date_item_width;var u=(0-s)*l.single_date_item_width;var v=(0-s)*l.single_date_item_width;var q=(0-s)*l.single_date_item_width;z+="        				<div class='goodyear-month goodyear-"+j.months_en[month_num]+"' data-month-id='"+month_num+"'>        					<div class='goodyear-label'>"+j.months_ru[month_num].substr(0,1).toUpperCase()+j.months_ru[month_num].substr(1)+"</div>        					<div class='goodyear-line_1'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+A+"px;'>        								<span date='1'>1</span>        								<span date='2'>2</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+y+"px;'>        								<span date='1'>1</span>        								<span date='2'>2</span>        								<span date='3'>3</span>        								<span date='4'>4</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_2'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+r+"px;'>        								<span date='1'>1</span>        								<span date='2'>2</span>        								<span date='3'>3</span>        								<span date='4'>4</span>        								<span date='5'>5</span>        								<span date='6'>6</span>        								<span date='7'>7</span>        								<span date='8'>8</span>        								<span date='9'>9</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+u+"px;'>        								<span date='4'>4</span>        								<span date='5'>5</span>        								<span date='6'>6</span>        								<span date='7'>7</span>        								<span date='8'>8</span>        								<span date='9'>9</span>        								<span date='10'>10</span>        								<span date='11'>11</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_3'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+v+"px;'>        								<span date='6'>6</span>        								<span date='7'>7</span>        								<span date='8'>8</span>        								<span date='9'>9</span>        								<span date='10'>10</span>        								<span date='11'>11</span>        								<span date='12'>12</span>        								<span date='13'>13</span>        								<span date='14'>14</span>        								<span date='15'>15</span>        								<span date='16'>16</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+q+"px;'>        								<span date='11'>11</span>        								<span date='12'>12</span>        								<span date='13'>13</span>        								<span date='14'>14</span>        								<span date='15'>15</span>        								<span date='16'>16</span>        								<span date='17'>17</span>        								<span date='18'>18</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_4'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+v+"px;'>        								<span date='13'>13</span>        								<span date='14'>14</span>        								<span date='15'>15</span>        								<span date='16'>16</span>        								<span date='17'>17</span>        								<span date='18'>18</span>        								<span date='19'>19</span>        								<span date='20'>20</span>        								<span date='21'>21</span>        								<span date='22'>22</span>        								<span date='23'>23</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+q+"px;'>        								<span date='18'>18</span>        								<span date='19'>19</span>        								<span date='20'>20</span>        								<span date='21'>21</span>        								<span date='22'>22</span>        								<span date='23'>23</span>        								<span date='24'>24</span>        								<span date='25'>25</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_5'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+v+"px;'>        								<span date='20'>20</span>        								<span date='21'>21</span>        								<span date='22'>22</span>        								<span date='23'>23</span>        								<span date='24'>24</span>        								<span date='25'>25</span>        								<span date='26'>26</span>        								<span date='27'>27</span>        								<span date='28'>28</span>        								<span date='29' "+(w<29?"style='display:none'":"")+">29</span>        								<span date='30' "+(w<30?"style='display:none'":"")+">30</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+q+"px;'>        								<span date='25'>25</span>        								<span date='26'>26</span>        								<span date='27'>27</span>        								<span date='28'>28</span>        								<span date='29' "+(w<29?"style='display:none'":"")+">29</span>        								<span date='30' "+(w<30?"style='display:none'":"")+">30</span>        								<span date='31' "+(w<31?"style='display:none'":"")+">31</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_6'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+v+"px;'>        								<span date='27'>27</span>        								<span date='28'>28</span>        								<span date='29' "+(w<29?"style='display:none'":"")+">29</span>        								<span date='30' "+(w<30?"style='display:none'":"")+">30</span>        								<span date='31' "+(w<31?"style='display:none'":"")+">31</span>        							</div>        						</div>        					</div>        				</div>"}return z}};var j={months_en:["january","febrary","march","april","may","june","july","august","september","october","november","december"],months_ru:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],months_ru_short:["янв","фев","мар","апр","май","июнь","июль","авг","сен","окт","ноя","дек"],months_ru_genitive:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],days_of_week:["П","В","С","Ч","П","С","В"],common_date_formats:[["D M","DD M","DD MM","D-M","DD-M","DD-MM","D.M","DD.M","DD.MM","D\\M","DD\\M","DD\\MM","D/M","DD/M","DD/MM","D M YY","DD M YY","DD MM YY","D M YYYY","DD M YYYY","DD MM YYYY","D-M-YY","DD-M-YY","DD-MM-YY","D-M-YYYY","DD-M-YYYY","DD-MM-YYYY","D.M.YY","DD.M.YY","DD.MM.YY","D.M.YYYY","DD.M.YYYY","DD.MM.YYYY","D\\M\\YY","DD\\M\\YY","DD\\MM\\YY","D\\M\\YYYY","DD\\M\\YYYY","DD\\MM\\YYYY","D/M/YY","DD/M/YY","DD/MM/YY","D/M/YYYY","DD/M/YYYY","DD/MM/YYYY","D M YY","DD M YY","DD MM YY","D M YYYY","DD M YYYY","DD MM YYYY","D-M-YY","DD-M-YY","DD-MM-YY","D-M-YYYY","DD-M-YYYY","DD-MM-YYYY","D.M.YY","DD.M.YY","DD.MM.YY","D.M.YYYY","DD.M.YYYY","DD.MM.YYYY","D\\M\\YY","DD\\M\\YY","DD\\MM\\YY","D\\M\\YYYY","DD\\M\\YYYY","DD\\MM\\YYYY","D/M/YY","DD/M/YY","DD/MM/YY","D/M/YYYY","DD/M/YYYY","DD/MM/YYYY","YY M D","YY M DD","YY MM DD","YYYY M D","YYYY M DD","YYYY MM DD","YY-M-D","YY-M-DD","YY-MM-DD","YYYY-M-D","YYYY-M-DD","YYYY-MM-DD","YY.M.D","YY.M.DD","YY.MM.DD","YYYY.M.D","YYYY.M.DD","YYYY.MM.DD","YY\\M\\D","YY\\M\\DD","YY\\MM\\DD","YYYY\\M\\D","YYYY\\M\\DD","YYYY\\MM\\DD","YY/M/D","YY/M/DD","YY/MM/DD","YYYY/M/D","YYYY/M/DD","YYYY/MM/DD","YY D M","YY DD M","YY DD MM","YYYY D M","YYYY DD MM","YYYY DD MM","YY-D-M","YY-DD-M","YY-DD-MM","YYYY-D-M","YYYY-DD-MM","YYYY-DD-MM","YY.D.M","YY.DD.M","YY.DD.MM","YYYY.D.M","YYYY.DD.MM","YYYY.DD.MM","YY\\D\\M","YY\\DD\\M","YY\\DD\\MM","YYYY\\D\\M","YYYY\\DD\\MM","YYYY\\DD\\MM","YY/D/M","YY/DD/M","YY/DD/MM","YYYY/D/M","YYYY/DD/MM","YYYY/DD/MM","D MMM","DD MMM","D M HH:mm","DD M HH:mm","DD MM HH:mm","D-M HH:mm","DD-M HH:mm","DD-MM HH:mm","D.M HH:mm","DD.M HH:mm","DD.MM HH:mm","D\\M HH:mm","DD\\M HH:mm","DD\\MM HH:mm","D/M HH:mm","DD/M HH:mm","DD/MM HH:mm","D M YY HH:mm","DD M YY HH:mm","DD MM YY HH:mm","D M YYYY HH:mm","DD M YYYY HH:mm","DD MM YYYY HH:mm","D-M-YY HH:mm","DD-M-YY HH:mm","DD-MM-YY HH:mm","D-M-YYYY HH:mm","DD-M-YYYY HH:mm","DD-MM-YYYY HH:mm","D.M.YY HH:mm","DD.M.YY HH:mm","DD.MM.YY HH:mm","D.M.YYYY HH:mm","DD.M.YYYY HH:mm","DD.MM.YYYY HH:mm","D\\M\\YY HH:mm","DD\\M\\YY HH:mm","DD\\MM\\YY HH:mm","D\\M\\YYYY HH:mm","DD\\M\\YYYY HH:mm","DD\\MM\\YYYY HH:mm","D/M/YY HH:mm","DD/M/YY HH:mm","DD/MM/YY HH:mm","D/M/YYYY HH:mm","DD/M/YYYY HH:mm","DD/MM/YYYY HH:mm","D M YY HH:mm","DD M YY HH:mm","DD MM YY HH:mm","D M YYYY HH:mm","DD M YYYY HH:mm","DD MM YYYY HH:mm","D-M-YY HH:mm","DD-M-YY HH:mm","DD-MM-YY HH:mm","D-M-YYYY HH:mm","DD-M-YYYY HH:mm","DD-MM-YYYY HH:mm","D.M.YY HH:mm","DD.M.YY HH:mm","DD.MM.YY HH:mm","D.M.YYYY HH:mm","DD.M.YYYY HH:mm","DD.MM.YYYY HH:mm","D\\M\\YY HH:mm","DD\\M\\YY HH:mm","DD\\MM\\YY HH:mm","D\\M\\YYYY HH:mm","DD\\M\\YYYY HH:mm","DD\\MM\\YYYY HH:mm","D/M/YY HH:mm","DD/M/YY HH:mm","DD/MM/YY HH:mm","D/M/YYYY HH:mm","DD/M/YYYY HH:mm","DD/MM/YYYY HH:mm","YY M D HH:mm","YY M DD HH:mm","YY MM DD HH:mm","YYYY M D HH:mm","YYYY M DD HH:mm","YYYY MM DD HH:mm","YY-M-D HH:mm","YY-M-DD HH:mm","YY-MM-DD HH:mm","YYYY-M-D HH:mm","YYYY-M-DD HH:mm","YYYY-MM-DD HH:mm","YY.M.D HH:mm","YY.M.DD HH:mm","YY.MM.DD HH:mm","YYYY.M.D HH:mm","YYYY.M.DD HH:mm","YYYY.MM.DD HH:mm","YY\\M\\D HH:mm","YY\\M\\DD HH:mm","YY\\MM\\DD HH:mm","YYYY\\M\\D HH:mm","YYYY\\M\\DD HH:mm","YYYY\\MM\\DD HH:mm","YY/M/D HH:mm","YY/M/DD HH:mm","YY/MM/DD HH:mm","YYYY/M/D HH:mm","YYYY/M/DD HH:mm","YYYY/MM/DD HH:mm","YY D M HH:mm","YY DD M HH:mm","YY DD MM HH:mm","YYYY D M HH:mm","YYYY DD MM HH:mm","YYYY DD MM HH:mm","YY-D-M HH:mm","YY-DD-M HH:mm","YY-DD-MM HH:mm","YYYY-D-M HH:mm","YYYY-DD-MM HH:mm","YYYY-DD-MM HH:mm","YY.D.M HH:mm","YY.DD.M HH:mm","YY.DD.MM HH:mm","YYYY.D.M HH:mm","YYYY.DD.MM HH:mm","YYYY.DD.MM HH:mm","YY\\D\\M HH:mm","YY\\DD\\M HH:mm","YY\\DD\\MM HH:mm","YYYY\\D\\M HH:mm","YYYY\\DD\\MM HH:mm","YYYY\\DD\\MM HH:mm","YY/D/M HH:mm","YY/DD/M HH:mm","YY/DD/MM HH:mm","YYYY/D/M HH:mm","YYYY/DD/MM HH:mm","YYYY/DD/MM HH:mm","D MMM HH:mm","DD MMM HH:mm"],["YYYY MMM D","YYYY MMM DD","YYYY D MMM","YYYY DD MMM","D MMM YY","DD MMM YY","D MMM YYYY","DD MMM YYYY","D MMM YY","DD MMM YY","D MMM YYYY","DD MMM YYYY","MMM D YYYY","MMM DD YYYY","YY MMM D","YY MMM DD","YY D MMM","YY DD MMM","D MMM","DD MMM","YYYY MMM D HH:mm","YYYY MMM DD HH:mm","YYYY D MMM HH:mm","YYYY DD MMM HH:mm","D MMM YY HH:mm","DD MMM YY HH:mm","D MMM YYYY HH:mm","DD MMM YYYY HH:mm","D MMM YY HH:mm","DD MMM YY HH:mm","D MMM YYYY HH:mm","DD MMM YYYY HH:mm","MMM D YYYY HH:mm","MMM DD YYYY HH:mm","YY MMM D HH:mm","YY MMM DD HH:mm","YY D MMM HH:mm","YY DD MMM HH:mm","D MMM HH:mm","DD MMM HH:mm"],["YYYY MMM D","YYYY MMM DD","YYYY D MMM","YYYY DD MMM","D MMM YY","DD MMM YY","D MMM YYYY","DD MMM YYYY","D MMM YY","DD MMM YY","D MMM YYYY","DD MMM YYYY","MMM D YYYY","MMM DD YYYY","YY MMM D","YY MMM DD","YY D MMM","YY DD MMM","YYYY MMM D HH:mm","YYYY MMM DD HH:mm","YYYY D MMM HH:mm","YYYY DD MMM HH:mm","D MMM YY HH:mm","DD MMM YY HH:mm","D MMM YYYY HH:mm","DD MMM YYYY HH:mm","D MMM YY HH:mm","DD MMM YY HH:mm","D MMM YYYY HH:mm","DD MMM YYYY HH:mm","MMM D YYYY HH:mm","MMM DD YYYY HH:mm","YY MMM D HH:mm","YY MMM DD HH:mm","YY D MMM HH:mm","YY DD MMM HH:mm"]],common_date_langs:["ru","en"]};var o={input_text_value:null,selected_date:null,today:null,displayed_year:null,selected_hour:null,selected_minute:null,container:null,drag_item:null,drag_start_pos_y:null,drag_start_element_top:null,drag_started:null,is_mobile:null,input_text_error:null,mousewheel:null};var g={wrap_element:function(u){var s=a(m.container()).clone();switch(a(u).css("box-sizing")){case"border-box":var t=a(u).css("width");if(typeof(t)=="undefined"||(parseInt(t,10)==0&&t.substr(t.length-2)=="px")){s.css("width",a(u).width())}else{s.css("width",t)}break;case"content-box":s.css("width",parseFloat(a(u).width())+parseFloat(a(u).css("padding-left"))+parseFloat(a(u).css("padding-right"))+parseFloat(a(u).css("border-left-width"))+parseFloat(a(u).css("border-right-width")));a(u).css("height",parseFloat(a(u).height())+parseFloat(a(u).css("padding-top"))+parseFloat(a(u).css("padding-bottom"))+parseFloat(a(u).css("border-top-width"))+parseFloat(a(u).css("border-bottom-width")));break;case"padding-box":s.css("width",parseFloat(a(u).width())+parseFloat(a(u).css("border-left-width"))+parseFloat(a(u).css("border-right-width")));a(u).css("height",parseFloat(a(u).height())+parseFloat(a(u).css("border-top-width"))+parseFloat(a(u).css("border-bottom-width")));break}u.wrapAll(s);var q=u.clone();u.removeClass("goodyear").addClass("goodyear-hidden-text");o.container=u.parent();q.removeAttr("name").removeClass("goodyear").addClass("goodyear-text");q.prependTo(o.container);o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);if(o.input_text_value==o.selected_date.format(p.visible_format)){o.container.removeClass("goodyear-error");o.input_text_error=false}else{if(o.input_text_value){o.container.addClass("goodyear-error");o.input_text_error=true}}var r=new RegExp("mobile|android","i");o.is_mobile=r.test(navigator.userAgent);g.set_date();g.input_icon_hover();if(!o.is_mobile){g.show_and_hide_picker()}g.set_date_on_blur();g.months_hover();g.months_click();g.months_drag();g.months_mousewheel();g.year_mouseenter();g.year_click();g.year_drag();g.year_mousewheel();if(p.hour_picker){g.hour_mouseenter();g.hour_click();g.hour_drag();g.hour_mousewheel();if(p.minute_picker){g.minute_mouseenter();g.minute_click();g.minute_drag();g.minute_mousewheel()}}g.date_hover();g.date_pick();return u},document_actions:function(){if(typeof(activated_goodyears_list)=="undefined"){activated_goodyears_list=[]}if(activated_goodyears_list.length==1){a("html").mouseup(function(){var q=false;a.each(activated_goodyears_list,function(s,r){if(r.states.picker_open){r.states.container.find(".goodyear-hidden-text").triggerHandler("blur")}if(r.states.drag_item){q=true}});if(!q){a(".goodyear-picker").css("zIndex",1);a(".goodyear-picker").fadeOut(100);a.each(activated_goodyears_list,function(s,r){r.states.picker_open=false})}});a(window).blur(function(){a("html").trigger("mouseup")})}},input_icon_hover:function(){o.container.find(".goodyear-icon").mouseenter(function(){a(this).addClass("hover")}).mouseleave(function(){a(this).removeClass("hover")}).click(function(){o.container.find(".goodyear-text").trigger("focus")})},set_date:function(){var w=o.container.find(".goodyear-year-picker");var B=parseInt(o.selected_date.format("YYYY"),10)-p.min_year;var y=-(B*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;w.find(".goodyear-years").find(".goodyear-years-floating-block").stop(true,true);w.find(".goodyear-years").find(".goodyear-years-floating-block").animate({top:y+"px"},{duration:(o.displayed_year?(Math.abs(parseInt(o.selected_date.format("YYYY"),10)-o.displayed_year)*200<1000?Math.abs(parseInt(o.selected_date.format("YYYY"),10)-o.displayed_year)*200:1000):0),step:function(G,H){w.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",G);w.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",G-(l.year_selection_top+l.year_selection_border_top)+"px")}});prev_displayed_year=o.displayed_year;o.displayed_year=parseInt(o.selected_date.format("YYYY"),10);if(o.displayed_year!=prev_displayed_year){g.year_change_date_block_reaction()}var E=o.container.find(".goodyear-month-picker").find(".goodyear-slider");var s=-Math.floor((l.month_slider_height-l.single_month_item_height)/2);var u=(parseInt(o.selected_date.format("M"),10)-1)*l.single_month_item_height+s+l.month_slider_top_manual_correction;if(u<0){u=0}if(u>(l.month_block_height-l.month_slider_height)){u=(l.month_block_height-l.month_slider_height)}var v=o.container.find(".goodyear-date-picker").find(".goodyear-slider");var D=(l.date_block_height-l.date_block_label_height-l.date_block_label_border_bottom);var F=12*(6*l.date_block_label_height+(l.date_block_month_block_padding_top>l.date_block_month_block_padding_bottom?l.date_block_month_block_padding_top:l.date_block_month_block_padding_bottom))+l.date_block_month_block_padding_bottom;var r=F-D;E.stop(true,true);E.animate({top:u+"px"},{duration:3*Math.abs(parseInt(E.css("top"),10)-u),step:function(G,I){E.find(".goodyear-months").css("top",(-G)+"px");var H=l.date_block_label_height+l.date_block_label_border_bottom-r*(G/(l.month_block_height-l.month_slider_height));v.css("top",H+"px");v.data("top",H);E.data("top",G)}});if(o.today.format("YYYY")==o.displayed_year){v.find(".goodyear-month").filter(".goodyear-"+j.months_en[o.today.format("M")-1]).find("span").filter("[date='"+o.today.format("D")+"']").addClass("today").append("<div class='bull'>&bull;</div>")}v.find(".goodyear-month").find(".goodyear-slide_line").find("span").filter(".active").addClass("prev_active");v.find(".goodyear-month").find("span").filter(".active").removeClass("active");v.find(".goodyear-month").filter(".goodyear-"+j.months_en[o.selected_date.format("M")-1]).find("span").filter("[date='"+o.selected_date.format("D")+"']").addClass("hover").addClass("active").removeClass("hover");if(p.hour_picker){previous_selected_hour=o.selected_hour;o.selected_hour=o.selected_date.hour();var z=o.container.find(".goodyear-hour-picker");var t=parseInt(o.selected_hour,10);var A=-(t*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;z.find(".goodyear-hours").find(".goodyear-hours-floating-block").stop(true,true);z.find(".goodyear-hours").find(".goodyear-hours-floating-block").animate({top:A+"px"},{duration:Math.abs(o.selected_hour-previous_selected_hour)*50,step:function(G,H){z.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",G);z.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",G-(l.year_selection_top+l.year_selection_border_top)+"px")}})}if(p.minute_picker){previous_selected_minute=o.selected_minute;o.selected_minute=Math.round(o.selected_date.minute()/p.minutes_step)*p.minutes_step;var x=o.container.find(".goodyear-minute-picker");var C=parseInt(o.selected_minute,10)/p.minutes_step;var q=-(C*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;x.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").stop(true,true);x.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").animate({top:q+"px"},{duration:Math.abs(o.selected_minute-previous_selected_minute)*10,step:function(G,H){x.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",G);x.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",G-(l.year_selection_top+l.year_selection_border_top)+"px")}})}o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);o.container.removeClass("goodyear-error");if(p.range_from_id){if(typeof(activated_goodyears_list)!="undefined"){if(activated_goodyears_list.length>1){a.each(activated_goodyears_list,function(G,H){if(H.options.range_to_id==p.range_from_id){if(o.selected_date>H.states.selected_date){H.states.selected_date=o.selected_date;H.states.input_text_value=o.selected_date.format(H.options.visible_format);H.states.input_hidden_text_value=o.selected_date.format(H.options.format);H.methods.set_date()}}})}}}if(p.range_to_id){if(typeof(activated_goodyears_list)!="undefined"){if(activated_goodyears_list.length>1){a.each(activated_goodyears_list,function(G,H){if(H.options.range_from_id==p.range_to_id){if(o.selected_date<H.states.selected_date){H.states.selected_date=o.selected_date;H.states.input_text_value=o.selected_date.format(H.options.visible_format);H.states.input_hidden_text_value=o.selected_date.format(H.options.format);H.methods.set_date()}}})}}}},year_change_date_block_reaction:function(){var r=o.container.find(".goodyear-date-picker").find(".goodyear-slider");var s=o.container.find(".goodyear-month-picker").find(".goodyear-slider");var q=o.container.find(".goodyear-month-picker");r.find(".goodyear-month").filter(".goodyear-"+j.months_en[parseInt(o.selected_date.format("M"),10)-1]).find("span").filter("[date='"+o.selected_date.format("D")+"']").addClass("active");if(o.today.format("YYYY")!=o.displayed_year){r.find(".goodyear-month").find(".goodyear-slide_line").find("span").removeClass("today");o.container.find(".goodyear-month-picker").find(".goodyear-month").removeClass("today")}else{r.find(".goodyear-month").filter(".goodyear-"+j.months_en[parseInt(o.today.format("M"),10)-1]).find("span").filter("[date='"+o.today.format("D")+"']").addClass("today");o.container.find(".goodyear-months").each(function(){a(this).find(".goodyear-month").eq(parseInt(o.today.format("M"),10)-1).addClass("today")})}o.container.find(".goodyear-date-picker").find(".goodyear-month").each(function(){var x=o.container.find(".goodyear-date-picker").find(".goodyear-month").index(a(this));var v=moment(o.displayed_year+"-"+(x+1)+"-01","YYYY-M-DD");var t=v.format("e");var A=v.add("months",1).subtract("days",1).format("D");var y=(t>2?9:2)-t;var w=(9-y)*l.single_date_item_width;o.container.find(".goodyear-date-picker").find(".goodyear-month").eq(x).find(".goodyear-line_1").find(".goodyear-weekdays").find(".goodyear-slide_line").stop(true,true);o.container.find(".goodyear-date-picker").find(".goodyear-month").eq(x).find(".goodyear-line_1").find(".goodyear-weekdays").find(".goodyear-slide_line").animate({left:w},{duration:1000,step:function(D,G){var H=9-(D/l.single_date_item_width);var C=(4-H)*l.single_date_item_width;o.container.find(".goodyear-date-picker").find(".goodyear-month").eq(x).find(".goodyear-line_1").find(".goodyear-weekend").find(".goodyear-slide_line").css({left:C});var E=(2-H)*l.single_date_item_width;o.container.find(".goodyear-date-picker").find(".goodyear-month").eq(x).find(".goodyear-line_2").find(".goodyear-weekdays").find(".goodyear-slide_line").css({left:E});var B=(0-H)*l.single_date_item_width;o.container.find(".goodyear-date-picker").find(".goodyear-month").eq(x).find(".goodyear-line_2").find(".goodyear-weekend").find(".goodyear-slide_line").css({left:B});var F=(0-H)*l.single_date_item_width;o.container.find(".goodyear-date-picker").find(".goodyear-month").eq(x).find(".goodyear-line_3,.goodyear-line_4,.goodyear-line_5,.goodyear-line_6").find(".goodyear-weekdays").find(".goodyear-slide_line").css({left:F});var I=(0-H)*l.single_date_item_width;o.container.find(".goodyear-date-picker").find(".goodyear-month").eq(x).find(".goodyear-line_3,.goodyear-line_4,.goodyear-line_5,.goodyear-line_6").find(".goodyear-weekend").find(".goodyear-slide_line").css({left:I})}});var z=true;for(day=1;day<=31;day++){var u=moment([o.displayed_year,x,day]);if((!p.min_date||u>=p.min_date)&&(!p.max_date||u<=p.max_date)){r.find(".goodyear-month").filter(".goodyear-"+j.months_en[x]).find(".goodyear-slide_line").find("[date='"+day+"']").removeClass("disabled");if(day<=A){z=false}}else{r.find(".goodyear-month").filter(".goodyear-"+j.months_en[x]).find(".goodyear-slide_line").find("[date='"+day+"']").addClass("disabled")}if(day<=A){r.find(".goodyear-month").filter(".goodyear-"+j.months_en[x]).find(".goodyear-slide_line").find("[date='"+day+"']").css("display","inline")}else{r.find(".goodyear-month").filter(".goodyear-"+j.months_en[x]).find(".goodyear-slide_line").find("[date='"+day+"']").css("display","none")}}if(z){r.find(".goodyear-month").filter(".goodyear-"+j.months_en[x]).find(".goodyear-label").addClass("disabled");q.find(".goodyear-month").filter(".goodyear-"+j.months_en[x]).addClass("disabled")}else{r.find(".goodyear-month").filter(".goodyear-"+j.months_en[x]).find(".goodyear-label").removeClass("disabled");q.find(".goodyear-month").filter(".goodyear-"+j.months_en[x]).removeClass("disabled")}})},show_and_hide_picker:function(){o.container.find(".goodyear-text").focus(function(){o.container.find(".goodyear-hidden-text").triggerHandler("focus");if(a("html").width()-o.container.offset().left-o.container.width()<o.container.find(".goodyear-picker").width()){o.container.find(".goodyear-picker").addClass("position-right")}else{o.container.find(".goodyear-picker").removeClass("position-right")}a(".goodyear-picker").not(o.container.find(".goodyear-picker")).parent().css("zIndex",1);a(".goodyear-picker").not(o.container.find(".goodyear-picker")).fadeOut(100);o.container.css("zIndex",2);o.container.find(".goodyear-picker").css("top",(o.container.find(".goodyear-text").height()+parseInt(o.container.find(".goodyear-text").css("borderTopWidth"),10)+parseInt(o.container.find(".goodyear-text").css("borderBottomWidth"),10)+parseInt(o.container.find(".goodyear-text").css("paddingTop"),10)+parseInt(o.container.find(".goodyear-text").css("paddingBottom"),10)+l.range_from_text_block_to_picker));o.container.find(".goodyear-picker").css("display","block");o.picker_open=true;if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}}).click(function(){if(o.container.find(".goodyear-picker").css("display")!="block"){a(this).trigger("focus")}})},set_date_on_blur:function(){o.container.find(".goodyear-text").keydown(function(q){if(q.which==13){q.preventDefault();o.container.find(".goodyear-text").trigger("change");if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}}if(q.which==9){o.container.find(".goodyear-text").trigger("change");o.container.find(".goodyear-picker").css("zIndex",1);o.container.find(".goodyear-picker").fadeOut(100)}}).keyup(function(){o.input_text_value=a(this).val()});o.container.find(".goodyear-text").change(function(){var q=g.string_to_date(a(this).val());o.input_text_value=a(this).val();if(!q||(q&&(q.year()<p.min_year||q.year()>p.max_year||q<p.min_date||q>p.max_date))){o.container.addClass("goodyear-error");o.input_text_error=true}else{o.selected_date=q;o.input_text_value=o.selected_date.format(p.visible_format);o.input_hidden_text_value=o.selected_date.format(p.format);g.set_date();o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);o.container.find(".goodyear-hidden-text").triggerHandler("change");o.container.removeClass("goodyear-error");o.input_text_error=false}})},months_hover:function(q){o.container.find(".goodyear-month-picker").children().filter(".goodyear-months").find(".goodyear-month").mouseenter(function(){a(this).addClass("hover")}).mouseleave(function(){a(this).removeClass("hover")})},months_drag:function(){var u=o.container.find(".goodyear-month-picker").find(".goodyear-slider");var s=o.container.find(".goodyear-date-picker").find(".goodyear-slider");u.stop(true,true);s.stop(true,true);var r=(l.date_block_height-l.date_block_label_height-l.date_block_label_border_bottom);var t=12*(6*l.date_block_label_height+(l.date_block_month_block_padding_top>l.date_block_month_block_padding_bottom?l.date_block_month_block_padding_top:l.date_block_month_block_padding_bottom))+l.date_block_month_block_padding_bottom;var q=t-r;u.mousedown(function(v){u.addClass("drag");o.drag_started=false;o.drag_item=u;o.drag_start_pos_y=v.pageY;o.drag_start_element_top=parseInt(u.css("top"),10);a("html, body").addClass("disable_selection");a("html").mousemove(function(x){o.drag_started=true;if(o.drag_item==u){var y=(o.drag_start_pos_y-x.pageY);var z=o.drag_start_element_top-y;if(z<0){z=0}if(z>(l.month_block_height-l.month_slider_height)){z=(l.month_block_height-l.month_slider_height)}date_slider_month_slider_top=z;o.drag_item.css("top",z);o.drag_item.data("top",z);u.find(".goodyear-months").css("top",(-z)+"px");var w=l.date_block_label_height+l.date_block_label_border_bottom-q*(date_slider_month_slider_top/(l.month_block_height-l.month_slider_height));s.css("top",w+"px");s.data("top",w)}})}).mouseenter(function(){a(this).addClass("hover")}).mouseleave(function(){a(this).removeClass("hover")});o.container.add(document).mouseup(function(v){v.stopPropagation();if(o.drag_item==u){o.drag_item=null;o.drag_start_pos_y=null;o.container.find(".goodyear-year-picker").removeClass("goodyear-drag_started");u.removeClass("drag");a("html").unbind("mousemove");a("html, body").removeClass("disable_selection");return false}})},months_mousewheel:function(){var r=(l.date_block_height-l.date_block_label_height-l.date_block_label_border_bottom);var u=12*(6*l.date_block_label_height+(l.date_block_month_block_padding_top>l.date_block_month_block_padding_bottom?l.date_block_month_block_padding_top:l.date_block_month_block_padding_bottom))+l.date_block_month_block_padding_bottom;var q=u-r;var t=o.container.find(".goodyear-month-picker").find(".goodyear-slider");var s=o.container.find(".goodyear-date-picker").find(".goodyear-slider");if(o.mousewheel){o.container.find(".goodyear-date-picker,.goodyear-month-picker,.goodyear-date-picker-label").mousewheel(function(w){if(navigator.platform.indexOf("Win")!=-1){w.delta*=20;w.deltaX*=20;w.deltaY*=20}var v=(s.data("top")?s.data("top"):parseFloat(s.css("top")))+w.deltaY;if(v>l.date_block_label_height){v=l.date_block_label_height}if(v<l.date_block_label_height-q){v=l.date_block_label_height-q}var x=(l.month_block_height-l.month_slider_height)*((l.date_block_label_height+l.date_block_label_border_bottom-v)/q);t.css("top",x);t.find(".goodyear-months").css("top",(-x)+"px");s.data("top",v);s.css("top",v+"px");return false})}},months_click:function(){var u=o.container.find(".goodyear-month-picker").find(".goodyear-slider");var s=o.container.find(".goodyear-date-picker").find(".goodyear-slider");var r=(l.date_block_height-l.date_block_label_height-l.date_block_label_border_bottom);var t=12*(6*l.date_block_label_height+(l.date_block_month_block_padding_top>l.date_block_month_block_padding_bottom?l.date_block_month_block_padding_top:l.date_block_month_block_padding_bottom))+l.date_block_month_block_padding_bottom;var q=t-r;o.container.find(".goodyear-month-picker").children().filter(".goodyear-months").find(".goodyear-month").click(function(){var w=o.container.find(".goodyear-month-picker").children().filter(".goodyear-months").find(".goodyear-month").index(a(this));var v=-Math.floor((l.month_slider_height-l.single_month_item_height)/2);var x=w*l.single_month_item_height+v+l.month_slider_top_manual_correction;if(x<0){x=0}if(x>(l.month_block_height-l.month_slider_height)){x=(l.month_block_height-l.month_slider_height)}u.stop(true,true);u.animate({top:x+"px"},{duration:3*Math.abs(parseInt(u.css("top"),10)-x),step:function(y,A){u.data("top",y);u.find(".goodyear-months").css("top",(-y)+"px");var z=l.date_block_label_height+l.date_block_label_border_bottom-q*(y/(l.month_block_height-l.month_slider_height));s.css("top",z+"px");s.data("top",z)}})})},year_mouseenter:function(q){o.container.find(".goodyear-year-picker").children().filter(".goodyear-years").find(".goodyear-year").find("span").unbind("mouseenter");o.container.find(".goodyear-year-picker").children().filter(".goodyear-years").find(".goodyear-year").find("span").mouseenter(function(){a(this).addClass("hover")}).mouseleave(function(){a(this).removeClass("hover")})},year_click:function(){var q=o.container.find(".goodyear-year-picker");o.container.find(".goodyear-year-picker").children().filter(".goodyear-years").find(".goodyear-year").find("span").unbind("click");o.container.find(".goodyear-year-picker").children().filter(".goodyear-years").find(".goodyear-year").find("span").click(function(){if(!o.drag_started){var s=o.displayed_year;o.displayed_year=parseInt(a(this).text(),10);var t=o.displayed_year-p.min_year;var r=-(t*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;q.find(".goodyear-years").find(".goodyear-years-floating-block").stop(true,true);q.find(".goodyear-years").find(".goodyear-years-floating-block").animate({top:r+"px"},{duration:(s?((Math.abs(o.displayed_year-s)*200)<1000?(Math.abs(o.displayed_year-s)*200):100):0),step:function(u,v){q.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",u);q.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",u-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date=moment([o.displayed_year,parseInt(o.selected_date.format("M"),10)-1,parseInt((o.selected_date.format("M")==2)&&(o.selected_date.format("D")==29)?28:o.selected_date.format("D"),10),parseInt(o.selected_date.format("H"),10),parseInt(o.selected_date.format("m"),10),parseInt(o.selected_date.format("s"),10)]);o.input_text_value=o.selected_date.format(p.visible_format);g.set_date();g.year_change_date_block_reaction();if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}}})},year_drag:function(){var q=o.container.find(".goodyear-year-picker");q.stop(true,true);q.mousedown(function(r){o.drag_started=false;q.removeClass("drag_started");o.drag_item=q;o.drag_start_pos_y=r.pageY;o.drag_start_element_top=parseInt(q.find(".goodyear-years-floating-block").css("top"),10);a("html, body").addClass("disable_selection");a("html").mousemove(function(t){if(o.drag_item==q){o.drag_started=true;q.addClass("goodyear-drag_started");var u=(o.drag_start_pos_y-t.pageY);var s=o.drag_start_element_top-u;var v=parseInt(o.selected_date.format("YYYY"),10)-p.min_year;var w=l.year_block_height-l.single_year_item_height*(p.max_year-p.min_year+1);if(s>(l.year_selection_top+l.year_selection_border_top)){s=(l.year_selection_top+l.year_selection_border_top)}if(s<-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+w){s=-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+w}q.find(".goodyear-years-floating-block").css("top",s);q.find(".goodyear-years-floating-block").data("top",s);q.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",s-(l.year_selection_top+l.year_selection_border_top)+"px")}})});o.container.add(document).mouseup(function(s){s.stopPropagation();if(o.drag_item==q){o.displayed_year=p.min_year+Math.round(Math.abs((parseInt(q.find(".goodyear-years-floating-block").css("top"),10)-l.year_selection_top+l.year_selection_border_top)/l.single_year_item_height));var t=o.displayed_year-p.min_year;var r=-(t*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;q.find(".goodyear-years").find(".goodyear-years-floating-block").stop(true,true);q.find(".goodyear-years").find(".goodyear-years-floating-block").animate({top:r+"px"},{duration:200,step:function(u,v){q.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",u);q.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",u-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date=moment([o.displayed_year,parseInt(o.selected_date.format("M"),10)-1,parseInt((o.selected_date.format("M")==2)&&(o.selected_date.format("D")==29)?28:o.selected_date.format("D"),10),parseInt(o.selected_date.format("H"),10),parseInt(o.selected_date.format("m"),10),parseInt(o.selected_date.format("s"),10)]);o.input_text_value=o.selected_date.format(p.visible_format);g.set_date();g.year_change_date_block_reaction();if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}o.drag_item=null;o.drag_start_pos_y=null;o.container.find(".goodyear-year-picker").removeClass("goodyear-drag_started");a("html").unbind("mousemove");a("html, body").removeClass("disable_selection");return false}})},year_mousewheel:function(){var v=o.container.find(".goodyear-year-picker");var q=0;var s=moment().valueOf();var u=l.year_block_height-l.single_year_item_height*(p.max_year-p.min_year+1);var r=false;var t=false;if(o.mousewheel){v.mousewheel(function(x){x.stopPropagation();x.preventDefault();if(navigator.platform.indexOf("Win")!=-1){x.delta*=20;x.deltaX*=20;x.deltaY*=20}var w=(v.find(".goodyear-years").find(".goodyear-years-floating-block").data("top")?v.find(".goodyear-years").find(".goodyear-years-floating-block").data("top"):parseFloat(v.find(".goodyear-years").find(".goodyear-years-floating-block").css("top"),10))+x.deltaY;if(w>(l.year_selection_top+l.year_selection_border_top)){w=(l.year_selection_top+l.year_selection_border_top)}if(w<-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+u){w=-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+u}v.find(".goodyear-years").find(".goodyear-years-floating-block").css("top",w);v.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",w);v.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",w-(l.year_selection_top+l.year_selection_border_top)+"px");if(typeof(t)!="undefined"&&t!=false){clearTimeout(t)}t=setTimeout(function(){o.displayed_year=p.min_year+Math.round(Math.abs((parseInt(v.find(".goodyear-years-floating-block").css("top"),10)-l.year_selection_top+l.year_selection_border_top)/l.single_year_item_height));var z=o.displayed_year-p.min_year;var y=-(z*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;v.find(".goodyear-years").find(".goodyear-years-floating-block").stop(true,true);v.find(".goodyear-years").find(".goodyear-years-floating-block").animate({top:y+"px"},{duration:200,step:function(A,B){v.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",A);v.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",A-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date=moment([o.displayed_year,parseInt(o.selected_date.format("M"),10)-1,parseInt((o.selected_date.format("M")==2)&&(o.selected_date.format("D")==29)?28:o.selected_date.format("D"),10),parseInt(o.selected_date.format("H"),10),parseInt(o.selected_date.format("m"),10),parseInt(o.selected_date.format("s"),10)]);o.input_text_value=o.selected_date.format(p.visible_format);g.set_date();g.year_change_date_block_reaction();if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}},500)})}},hour_mouseenter:function(q){o.container.find(".goodyear-hour-picker").children().filter(".goodyear-hours").find(".goodyear-hour").find("span").unbind("mouseenter");o.container.find(".goodyear-hour-picker").children().filter(".goodyear-hours").find(".goodyear-hour").find("span").mouseenter(function(){a(this).addClass("hover")}).mouseleave(function(){a(this).removeClass("hover")})},hour_click:function(){var q=o.container.find(".goodyear-hour-picker");o.container.find(".goodyear-hour-picker").children().filter(".goodyear-hours").find(".goodyear-hour").find("span").unbind("click");o.container.find(".goodyear-hour-picker").children().filter(".goodyear-hours").find(".goodyear-hour").find("span").click(function(){if(!o.drag_started){var t=o.selected_hour;o.selected_hour=parseInt(a(this).text(),10);var r=parseInt(o.selected_hour,10);var s=-(r*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;q.find(".goodyear-hours").find(".goodyear-hours-floating-block").stop(true,true);q.find(".goodyear-hours").find(".goodyear-hours-floating-block").animate({top:s+"px"},{duration:Math.abs(t-o.selected_hour)*50,step:function(u,v){q.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",u);q.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",u-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date.hour(o.selected_hour);o.input_text_value=o.selected_date.format(p.visible_format);o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);o.container.find(".goodyear-hidden-text").triggerHandler("change");if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}}})},hour_drag:function(){var q=o.container.find(".goodyear-hour-picker");q.stop(true,true);q.mousedown(function(r){o.drag_started=false;q.removeClass("drag_started");o.drag_item=q;o.drag_start_pos_y=r.pageY;o.drag_start_element_top=parseInt(q.find(".goodyear-hours-floating-block").css("top"),10);a("html, body").addClass("disable_selection");a("html").mousemove(function(u){if(o.drag_item==q){o.drag_started=true;q.addClass("goodyear-drag_started");var w=(o.drag_start_pos_y-u.pageY);var v=o.drag_start_element_top-w;var t=parseInt(o.selected_date.format("YYYY"),10)-p.min_hour;var s=l.year_block_height-l.single_year_item_height*24;if(v>(l.year_selection_top+l.year_selection_border_top)){v=(l.year_selection_top+l.year_selection_border_top)}if(v<-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+s){v=-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+s}q.find(".goodyear-hours-floating-block").css("top",v);q.find(".goodyear-hours-floating-block").data("top",v);q.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",v-(l.year_selection_top+l.year_selection_border_top)+"px")}})});o.container.add(document).mouseup(function(t){t.stopPropagation();if(o.drag_item==q){o.selected_hour=Math.round(Math.abs((parseInt(q.find(".goodyear-hours-floating-block").css("top"),10)-l.year_selection_top+l.year_selection_border_top)/l.single_year_item_height));var r=o.selected_hour;var s=-(r*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;q.find(".goodyear-hours").find(".goodyear-hours-floating-block").stop(true,true);q.find(".goodyear-hours").find(".goodyear-hours-floating-block").animate({top:s+"px"},{duration:200,step:function(u,v){q.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",u);q.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",u-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date.hour(o.selected_hour);o.input_text_value=o.selected_date.format(p.visible_format);o.input_hidden_text_value=o.selected_date.format(p.format);o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);o.container.find(".goodyear-hidden-text").triggerHandler("change");if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}o.drag_item=null;o.drag_start_pos_y=null;o.container.find(".goodyear-hour-picker").removeClass("goodyear-drag_started");a("html").unbind("mousemove");a("html, body").removeClass("disable_selection");return false}})},hour_mousewheel:function(){var r=o.container.find(".goodyear-hour-picker");var v=0;var t=moment().valueOf();var q=l.year_block_height-l.single_year_item_height*24;var s=false;var u=false;if(o.mousewheel){r.mousewheel(function(w){w.stopPropagation();w.preventDefault();if(navigator.platform.indexOf("Win")!=-1){w.delta*=20;w.deltaX*=20;w.deltaY*=20}var x=(r.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top")?r.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top"):parseFloat(r.find(".goodyear-hours").find(".goodyear-hours-floating-block").css("top"),10))+w.deltaY;if(x>(l.year_selection_top+l.year_selection_border_top)){x=(l.year_selection_top+l.year_selection_border_top)}if(x<-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+q){x=-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+q}r.find(".goodyear-hours").find(".goodyear-hours-floating-block").css("top",x);r.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",x);r.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",x-(l.year_selection_top+l.year_selection_border_top)+"px");if(typeof(u)!="undefined"&&u!=false){clearTimeout(u)}u=setTimeout(function(){o.selected_hour=Math.round(Math.abs((parseInt(r.find(".goodyear-hours-floating-block").css("top"),10)-l.year_selection_top+l.year_selection_border_top)/l.single_year_item_height));var y=o.selected_hour;var z=-(y*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;r.find(".goodyear-hours").find(".goodyear-hours-floating-block").stop(true,true);r.find(".goodyear-hours").find(".goodyear-hours-floating-block").animate({top:z+"px"},{duration:200,step:function(A,B){r.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",A);r.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",A-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date.hour(o.selected_hour);o.input_text_value=o.selected_date.format(p.visible_format);o.input_hidden_text_value=o.selected_date.format(p.format);o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);o.container.find(".goodyear-hidden-text").triggerHandler("change");if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}},500)})}},minute_mouseenter:function(q){o.container.find(".goodyear-minute-picker").children().filter(".goodyear-minutes").find(".goodyear-minute").find("span").unbind("mouseenter");o.container.find(".goodyear-minute-picker").children().filter(".goodyear-minutes").find(".goodyear-minute").find("span").mouseenter(function(){a(this).addClass("hover")}).mouseleave(function(){a(this).removeClass("hover")})},minute_click:function(){var q=o.container.find(".goodyear-minute-picker");o.container.find(".goodyear-minute-picker").children().filter(".goodyear-minutes").find(".goodyear-minute").find("span").unbind("click");o.container.find(".goodyear-minute-picker").children().filter(".goodyear-minutes").find(".goodyear-minute").find("span").click(function(){if(!o.drag_started){var s=o.selected_minute;o.selected_minute=Math.round(parseInt(a(this).text(),10)/p.minutes_step)*p.minutes_step;var t=parseInt(o.selected_minute,10)/p.minutes_step;var r=-(t*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;q.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").stop(true,true);q.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").animate({top:r+"px"},{duration:Math.abs(s-o.selected_minute)*10,step:function(u,v){q.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",u);q.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",u-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date.minute(o.selected_minute);o.input_text_value=o.selected_date.format(p.visible_format);o.input_hidden_text_value=o.selected_date.format(p.format);o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);o.container.find(".goodyear-hidden-text").triggerHandler("change");if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}}})},minute_drag:function(){var q=o.container.find(".goodyear-minute-picker");q.stop(true,true);q.mousedown(function(r){o.drag_started=false;q.removeClass("drag_started");o.drag_item=q;o.drag_start_pos_y=r.pageY;o.drag_start_element_top=parseInt(q.find(".goodyear-minutes-floating-block").css("top"),10);a("html, body").addClass("disable_selection");a("html").mousemove(function(u){if(o.drag_item==q){o.drag_started=true;q.addClass("goodyear-drag_started");var v=(o.drag_start_pos_y-u.pageY);var s=o.drag_start_element_top-v;var w=parseInt(o.selected_date.minute(),10);var t=l.year_block_height-l.single_year_item_height*(60/p.minutes_step);if(s>(l.year_selection_top+l.year_selection_border_top)){s=(l.year_selection_top+l.year_selection_border_top)}if(s<-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+t){s=-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+t}q.find(".goodyear-minutes-floating-block").css("top",s);q.find(".goodyear-minutes-floating-block").data("top",s);q.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",s-(l.year_selection_top+l.year_selection_border_top)+"px")}})});o.container.add(document).mouseup(function(s){s.stopPropagation();if(o.drag_item==q){o.selected_minute=Math.round(Math.abs((parseInt(q.find(".goodyear-minutes-floating-block").css("top"),10)-l.year_selection_top+l.year_selection_border_top)/l.single_year_item_height))*p.minutes_step;var t=o.selected_minute/p.minutes_step;var r=-(t*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;q.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").stop(true,true);q.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").animate({top:r+"px"},{duration:200,step:function(u,v){q.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",u);q.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",u-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date.minute(o.selected_minute);o.input_text_value=o.selected_date.format(p.visible_format);o.input_hidden_text_value=o.selected_date.format(p.format);o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);o.container.find(".goodyear-hidden-text").triggerHandler("change");if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}o.drag_item=null;o.drag_start_pos_y=null;o.container.find(".goodyear-minute-picker").removeClass("goodyear-drag_started");a("html").unbind("mousemove");a("html, body").removeClass("disable_selection");return false}})},minute_mousewheel:function(){var v=o.container.find(".goodyear-minute-picker");var s=0;var u=moment().valueOf();var q=l.year_block_height-l.single_year_item_height*(60/p.minutes_step);var t=false;var r=false;if(o.mousewheel){v.mousewheel(function(x){x.stopPropagation();x.preventDefault();if(navigator.platform.indexOf("Win")!=-1){x.delta*=20;x.deltaX*=20;x.deltaY*=20}var w=(v.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top")?v.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top"):parseFloat(v.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").css("top"),10))+x.deltaY;if(w>(l.year_selection_top+l.year_selection_border_top)){w=(l.year_selection_top+l.year_selection_border_top)}if(w<-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+q){w=-(l.year_block_height-l.year_selection_top-l.single_year_item_height-l.year_selection_border_top)+q}v.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").css("top",w);v.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",w);v.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",w-(l.year_selection_top+l.year_selection_border_top)+"px");if(typeof(r)!="undefined"&&r!=false){clearTimeout(r)}r=setTimeout(function(){o.selected_minute=Math.round(Math.abs((parseInt(v.find(".goodyear-minutes-floating-block").css("top"),10)-l.year_selection_top+l.year_selection_border_top)/l.single_year_item_height))*p.minutes_step;var z=o.selected_minute/p.minutes_step;var y=-(z*l.single_year_item_height)+l.year_selection_top+l.year_selection_border_top;v.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").stop(true,true);v.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").animate({top:y+"px"},{duration:200,step:function(A,B){v.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",A);v.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",A-(l.year_selection_top+l.year_selection_border_top)+"px")}});o.selected_date.minute(o.selected_minute);o.input_text_value=o.selected_date.format(p.visible_format);o.input_hidden_text_value=o.selected_date.format(p.format);o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);o.container.find(".goodyear-hidden-text").triggerHandler("change");if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}},500)})}},date_hover:function(){var q=o.container.find(".goodyear-date-picker").find(".goodyear-slider");q.find(".goodyear-month").find(".goodyear-slide_line").find("span").mouseenter(function(){if(!a(this).hasClass("disabled")&&o.picker_open){a(this).addClass("hover");o.container.find(".goodyear-text").val(moment([o.displayed_year,parseInt(a(this).parents(".goodyear-month").data("monthId"),10),parseInt(a(this).text(),10),o.selected_hour,o.selected_minute]).format(p.visible_format));if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}}}).mouseleave(function(){if(!a(this).hasClass("disabled")&&o.picker_open){a(this).removeClass("hover");if(o.picker_open){o.container.find(".goodyear-text").val(o.input_text_value)}if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}}})},date_pick:function(){var q=o.container.find(".goodyear-date-picker").find(".goodyear-slider");q.find(".goodyear-month").find(".goodyear-slide_line").find("span").mousedown(function(){if(!a(this).hasClass("disabled")){o.container.removeClass("goodyear-error")}}).mouseleave(function(){if(!a(this).hasClass("disabled")){if(o.input_text_error){o.container.addClass("goodyear-error")}}}).click(function(){if(!a(this).hasClass("disabled")){o.container.removeClass("goodyear-error");o.input_text_error=false;o.selected_date=moment([o.displayed_year,parseInt(a(this).parents(".goodyear-month").data("monthId"),10),parseInt(a(this).text(),10),o.selected_hour,o.selected_minute]);o.input_text_value=o.selected_date.format(p.visible_format);o.input_hidden_text_value=o.selected_date.format(p.format);o.container.find(".goodyear-text").val(o.input_text_value);o.container.find(".goodyear-hidden-text").val(o.input_hidden_text_value);g.set_date();o.container.find(".goodyear-text").focus();if(!o.is_mobile){setTimeout(function(){o.container.find(".goodyear-text")[0].select()},1)}o.container.find(".goodyear-picker").css("zIndex",1);o.container.find(".goodyear-picker").fadeOut(100);o.picker_open=false}})},trim:function(q){if(q&&typeof(q)=="string"){return q.replace(/^\s+|\s+$/g,"")}else{return""}},string_to_date:function(r){for(i=0;i<j.common_date_langs.length;i++){var q=moment(g.trim(r),p.format,j.common_date_langs[i],true);if(q.isValid()){break}}for(i=0;i<j.common_date_langs.length;i++){var q=moment(g.trim(r),p.visible_format,j.common_date_langs[i],true);if(q.isValid()){break}}if(!q.isValid()){for(k=0;k<j.common_date_formats.length;k++){for(i=0;i<j.common_date_langs.length;i++){var q=moment(g.trim(r),j.common_date_formats[k],j.common_date_langs[i],(k<2));if(q.isValid()){break}}if(q.isValid()){break}}}if(q.isValid()){return q}else{return false}}};if(typeof(e.data("goodyearRangeFrom"))!="undefined"&&typeof(e.data("goodyearRangeFrom"))){p.range_from_id=parseInt(e.data("goodyearRangeFrom"),10)}if(typeof(e.data("goodyearRangeTo"))!="undefined"&&typeof(e.data("goodyearRangeTo"))){p.range_to_id=parseInt(e.data("goodyearRangeTo"),10)}if(typeof(e.data("goodyearFormat"))!="undefined"&&e.data("goodyearFormat")){p.format=e.data("goodyearFormat")}if(typeof(e.data("goodyearVisibleFormat"))!="undefined"&&e.data("goodyearVisibleFormat")){p.visible_format=e.data("goodyearVisibleFormat")}else{if(typeof(e.data("goodyearFormat"))!="undefined"&&e.data("goodyearFormat")){p.visible_format=e.data("goodyearFormat")}}if(typeof(e.data("goodyearMinYear"))!="undefined"&&e.data("goodyearMinYear")){p.min_year=e.data("goodyearMinYear")}if(typeof(e.data("goodyearMaxYear"))!="undefined"&&e.data("goodyearMaxYear")){p.max_year=e.data("goodyearMaxYear")}if(typeof(e.data("goodyearMinDate"))!="undefined"&&e.data("goodyearMinDate")){p.min_date=e.data("goodyearMinDate")}if(typeof(e.data("goodyearMaxDate"))!="undefined"&&e.data("goodyearMaxDate")){p.max_date=e.data("goodyearMaxDate")}if(typeof(e.data("goodyearHourPicker"))!="undefined"&&e.data("goodyearHourPicker")){p.hour_picker=(e.data("goodyearHourPicker")?true:false)}if(typeof(e.data("goodyearMinutePicker"))!="undefined"&&e.data("goodyearMinutePicker")){p.minute_picker=(e.data("goodyearMinutePicker")?true:false)}if(typeof(e.data("goodyearMinutesStep"))!="undefined"&&e.data("goodyearMinutesStep")){p.minutes_step=(e.data("goodyearMinutesStep")?e.data("goodyearMinutesStep"):5);p.minutes_step=60/Math.floor(60/p.minutes_step)}if(p.minute_picker){p.hour_picker=true}moment.lang("ru");var n=g.string_to_date(e.val());o.today=moment();p.min_date=g.string_to_date(p.min_date);if(p.min_date){p.min_year=parseInt(p.min_date.format("YYYY"),10)}else{if(p.min_year){p.min_date=g.string_to_date(p.min_year+"-01-01")}else{if(n){p.min_year=parseInt(n.format("YYYY"),10)-50}else{p.min_year=parseInt(o.today.format("YYYY"),10)-50}p.min_date=g.string_to_date(p.min_year+"-01-01")}}p.max_date=g.string_to_date(p.max_date);if(p.max_date){p.max_date=p.max_date.endOf("day");p.max_year=parseInt(p.max_date.format("YYYY"),10)}else{if(p.max_year){p.max_date=g.string_to_date(p.max_year+"-01-01");p.max_date=p.max_date.endOf("year")}else{if(n){p.max_year=parseInt(n.format("YYYY"),10)+50}else{p.max_year=parseInt(o.today.format("YYYY"),10)+50}p.max_date=g.string_to_date(p.max_year+"-01-01").endOf("year")}}if(n&&(n>=p.min_date&&n<=p.max_date)){if(!p.minute_picker){n.minute(0)}if(!p.hour_picker){n.hour(0)}o.selected_date=n;o.input_text_value=o.selected_date.format(p.visible_format);o.input_hidden_text_value=o.selected_date.format(p.format)}else{if(o.today>=p.min_date&&o.today<=p.max_date){o.selected_date=o.today;o.input_text_value=e.val();o.input_hidden_text_value=e.val()}else{o.selected_date=p.min_date;o.input_text_value=e.val();o.input_hidden_text_value=e.val()}}if(n){o.selected_hour=n.hour();o.selected_minute=Math.round(n.minute()/p.minutes_step)*p.minutes_step}else{o.selected_hour=0;o.selected_minute=0}if(jQuery().mousewheel){o.mousewheel=true}e=g.wrap_element(e);if(typeof(activated_goodyears_list)=="undefined"){activated_goodyears_list=[]}activated_goodyears_list[activated_goodyears_list.length]={element:e,states:o,options:p,methods:g};g.document_actions();return e}};return d(this,b)}})(jQuery);$(document).ready(function(){var a=new RegExp("^.*?goodyear[^/]*?$","i");var d=new RegExp("^(.*?)[^/]*?$","i");var c=false;var b=false;$("script").filter("[src*='goodyear']").each(function(){if(a.test($(this).attr("src"))){c=d.exec($(this).attr("src"))[1];b=$(this)}});if(c){if(typeof(moment)=="undefined"){$("<script src='"+c+"moment-with-langs.min.js'><\/script>").insertAfter(b)}}if(c){if(!jQuery().mousewheel){$("<script src='"+c+"jquery-mousewheel-3.1.11.min.js'><\/script>").insertAfter(b)}}$(".goodyear").goodyear()});